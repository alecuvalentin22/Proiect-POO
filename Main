#define _CRT_SECURE_NO_WARNINGS
#include <iostream>
#include <string>
#include <fstream>
#include "Classes.h";
using namespace std;

//main primeste ca argumente fisierele:
//1. Commands.txt care contine (pe fiecare linie, fara spatiu dupa ele) comenzile ce trebuiesc executate
//2. Database.txt care contine (pe fiecare linie, fara spatiu dupa ele) numele tabelelor (si respectiv ale fisierelor binare corespunzatoare) existente deja in baza de date, la pornirea programului

int main(int argc, char* argv[])
{
	cout << "HELLO!"<<endl<<"--------------------------"<<endl;
	cout << "argc= " << argc<<endl;
	for (int i = 0; i < argc; i++)
	{
		cout << "argv[" << i << "]=" << argv[i]<<endl;
	}	
	
	ifstream theCommands;
	theCommands.open(argv[1], ios::in);

	fstream theDatabase;
	theDatabase.open(argv[2], ios::in | ios::out);

	Command command;
	string theCommand = "";

	while (theCommands.eof()!=true)
	{
		theCommands >> command;
		cout <<endl<< "-----------------------------------------------------"<<endl;
		cout << "The command to execute is: " << command.getFirstWord() << command.getSecondWord() << command.getName() << endl;
		Parser parser(command, argv[2]);
		parser.Parse(command);
	}
}
